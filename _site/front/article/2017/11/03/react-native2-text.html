<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>React Native Text组件</title>
  <meta name="description" content="Text内部的元素不再使用flexbox布局，而是采用文本布局">

  <link rel="stylesheet" href="/stylesheets/stylesheet.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://lq1228.github.io//front/article/2017/11/03/react-native2-text.html">
  <link rel="alternate" type="application/rss+xml" title="lq1228.github.io" href="http://lq1228.github.io//feed.xml">
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
</head>


  <body>

    <header class="main-header">
    <div class="inner">
        <h1>liqian</h1>
        <blockquote>
            <p>
            <p>
        </blockquote>
        <a href="https://github.com/lq1228" class="button"><small>Follow me on</small> GitHub</a>
    </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <nav>当前位置：<a href="/">首页</a> &gt; <a href="/front/article/2017/11/03/react-native2-text.html">React Native Text组件</a></nav>
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">React Native Text组件</h1>
    <p class="post-meta"><time datetime="2017-11-03T09:49:42+08:00" itemprop="datePublished">Nov 3, 2017</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Text元素在布局上不同于其它组件：在Text内部的元素不再使用flexbox布局，而是采用文本布局。这意味着Text内部的元素不再是一个个矩形，而可能会在行末进行折叠。</p>

<p>基于这个特性，开发者可以只设定Text组件样式的宽度，而不设置它的高度，Text组件的高度将由组件的宽度、需要显示的字符串的长度、字体大小共同动态确定。</p>

<h4 id="section">属性</h4>

<h5 id="section-1">通用样式键设置</h5>

<ul>
    <li>fontFamily</li>
    <li>fontStyle</li>
    <li>fontSize</li>
    <li>fontWeight</li>
    <li>textAlign</li>
    <li>textDecorationLine</li>
    <li>lineHeight</li>
    <li>numberOfLines</li>
    <li>onLongPress</li>
    <li>Selectable</li>
</ul>

<p>三个与阴影有关的样式</p>

<ul>
    <li>textShadowOffset</li>
    <li>textShadowRadius</li>
    <li>textShadowColor</li>
</ul>

<h5 id="ios-">ios 平台独有样式键设置</h5>

<ul>
    <li>fontVariant</li>
    <li>letterSpacing</li>
    <li>writingDirection</li>
    <li>textDecorationStyle</li>
    <li>textDecorationColor</li>
    <li>adjustsFontSizeToFit</li>
    <li>allowFontScaling</li>
    <li>minimumFontScale</li>
    <li>suppressHighlighting</li>
</ul>

<h5 id="android-">Android 平台独有样式键设置</h5>

<ul>
    <li>includeFontPadding</li>
    <li>selectionColor</li>
    <li>textAlignVertical</li>
    <li>textBreakStrategy</li>
</ul>

<p>cllipsizeMode时字符串类型属性。它的取值为：head,middle,tail,clip.它决定了当Text组件无法全部显示需要显示的字符串时，如何用省略号进行修饰。</p>

<p>需要注意的是，ellipsizeMode属性需要与numberOfLines属性配合使用，numberOfLines属性值被赋予1，但开发者可以视需要赋给它任意正整数。</p>

<p>依照官方文档，ellipsizeMode是一个跨平台属性。但截止RN0.40,只有ios平台支持了前三种属性。android平台，所有取值效果都与clip属性相同。</p>

<h4 id="text">Text组件的嵌套</h4>

<p>在嵌套的Text组件中，子Text组件将继承它的父Text组件的样式。子Text组件不能覆盖从父Text组件继承而来的样式，只能增加父Text组件没有指定的样式。</p>

<h4 id="text-1">Text居中显示</h4>

<p>需要在Text组件外套一层view才能设置Text组件的水平垂直居中</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">viewForTextStyle</span><span class="p">}</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">textStyle</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">happy</span><span class="o">&lt;</span><span class="sr">/Text</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>
<span class="kd">var</span> <span class="nx">styles</span> <span class="o">=</span> <span class="nx">StyleSheet</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">viewForTextStyle</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">width</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
        <span class="na">height</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="na">alignItems</span><span class="p">:</span> <span class="s1">'center'</span><span class="p">,</span>
        <span class="na">justifyContent</span><span class="p">:</span> <span class="s1">'center'</span>
    <span class="p">},</span>
    <span class="na">textStyle</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">fontSize</span><span class="p">:</span> <span class="mi">30</span>
    <span class="p">}</span>
<span class="p">});</span></code></pre></figure>

<h4 id="section-2">在字符串中插入图像</h4>

<p>在React Native 0.20.0 版本后，开发者可以在Text组件中更方便的插入图像</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">aImage</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./1.jpg'</span><span class="p">);</span>
<span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">welcome</span><span class="p">}</span><span class="o">&gt;</span>
    <span class="nx">Welcome</span> <span class="nx">to</span> <span class="o">&lt;</span><span class="nx">Image</span> <span class="nx">source</span><span class="o">=</span><span class="p">{</span><span class="nx">aImage</span><span class="p">}</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">imageInTextStyle</span><span class="p">}</span> <span class="sr">/&gt; React Native</span><span class="err">.
</span><span class="o">&lt;</span><span class="sr">/Text</span><span class="err">&gt;
</span>
<span class="kd">var</span> <span class="nx">styles</span> <span class="o">=</span> <span class="nx">StyleSheet</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="na">welcome</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">fontSize</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
        <span class="na">textAlign</span><span class="p">:</span> <span class="s1">'center'</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">imageInTextStyle</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">width</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="na">height</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="na">resizeMode</span><span class="p">:</span> <span class="s1">'cover'</span>
    <span class="p">}</span>
<span class="p">});</span></code></pre></figure>

<h4 id="text-2">Text组件在两个平台上的不同表现</h4>

<h5 id="fontsizeheight">只指定fontSize，不指定height</h5>

<p>在这种情况下，Text组件在两个平台上显示都正常。</p>

<p>ios: 两个汉字上、下方富余的空间基本相等；</p>

<p>android: 上方富余空间的高度大概是下方空间的1.5倍。除非字体比较大，否则用户不容易发现。</p>

<h5 id="height-fontsize">只指定height, 不指定fontSize</h5>

<p>在这种极端情况下，不论height是何值，fontSize的值都是13。</p>

<h5 id="fontsize--height">fontSize 等于 height</h5>

<p>ios: 字体偏下，下方部分显示不全</p>

<p>android：字体比ios还偏下，上方留有空间，下方显示不全。</p>

<p>这种情况下，在Text组件样式中加入 padding: 0 或者 paddingTop: 0 或者 paddingBottom: 0，也不会有任何变化。</p>

<h5 id="height--fontsize">height 大于 fontSize</h5>

<p>ios: 当height等于fontSize的1.2倍时，显示效果与只指定fontSize，不指定height类似；如果height继续增大，此时Text组件中显示字符的上方空间保持不变，而下方空间会随着height增大而增大。</p>

<p>android: 当height等于fontSize的1.35倍时，显示效果与只指定fontSize，不指定height类似；如果height继续增大，此时Text组件中显示字符的上方空间保持不变，而下方空间会随着height增大而增大。</p>

<h5 id="section-3">边框在两个平台上的不同表现</h5>

<p>给Text组件增加border属性，android不显示边框。兼容两端的话，需要在Text组件外套一层view，然后设置相关border属性。</p>

  </div>

</article>
<!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="/front/article/2017/11/03/react-native2-text" data-title="React Native Text组件" data-url="/front/article/2017/11/03/react-native2-text.html"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"lq1228"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
<!-- 多说公共JS代码 end -->

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="friend-link">
        <div class="friend-title">友情链接</div>
        
            <a href="https://bystep15.github.io/">
		宝宝树前端团队博客
	    </a>
	
            <a href="http://testudy.github.io/">
		胡继伟
	    </a>
	
            <a href="https://yj1438.github.io/">
		尹杰
	    </a>
	
            <a href="https://github.com/cnsnake11/blog">
		曹楠
	    </a>
	
            <a href="http://ushtml.com/">
		武明礼
	    </a>
	
            <a href="http://kouyun.me/">
		寇云
	    </a>
	
            <a href="http://brooch.me/">
		郑星宬
	    </a>
	
            <a href="http://zhanyouwei.com/">
		占友伟
	    </a>
	
            <a href="https://lilywei739.github.io">
		魏莉
	    </a>
	
            <a href="https://wangjiaoxia.github.io/">
		王娇霞
	    </a>
	
            <a href="http://www.apptranz.com/wk/">
		梁恺韬
	    </a>
	
    </div>

    <div class="copyright">
      <p>lq1228.github.io</p>
    </div>

  </div>

</footer>


  </body>

</html>
