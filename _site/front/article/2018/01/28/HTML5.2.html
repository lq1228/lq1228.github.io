<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>HTML 5.2 有哪些新内容?</title>
  <meta name="description" content="HTML 5.2 有哪些新内容">

  <link rel="stylesheet" href="/stylesheets/stylesheet.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://lq1228.github.io//front/article/2018/01/28/HTML5.2.html">
  <link rel="alternate" type="application/rss+xml" title="lq1228.github.io" href="http://lq1228.github.io//feed.xml">
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
</head>


  <body>

    <header class="main-header">
    <div class="inner">
        <h1>liqian</h1>
        <blockquote>
            <p>
            <p>
        </blockquote>
        <a href="https://github.com/lq1228" class="button"><small>Follow me on</small> GitHub</a>
    </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <nav>当前位置：<a href="/">首页</a> &gt; <a href="/front/article/2018/01/28/HTML5.2.html">HTML 5.2 有哪些新内容?</a></nav>
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">HTML 5.2 有哪些新内容?</h1>
    <p class="post-meta"><time datetime="2018-01-28T10:49:42+08:00" itemprop="datePublished">Jan 28, 2018</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>HTML 5.2 已正式成为了 W3C 的推荐标准（REC）。当一个规范到达 REC 阶段，就意味着它已经正式得到了 W3C 成员和理事长的认可。并且 W3C 将正式推荐浏览器厂商部署、web 开发者实现此规范。</p>

<p>在 REC 阶段有个原则叫做“任何新事物都至少要有两种独立的实现”，这对于我们 web 开发者来说是一个实践新特性的绝佳机会。</p>

<p>在 HTML 5.2 中有一些添加和删除，具体改变可以参考官方的 HTML 5.2 变动内容网页。</p>

<h3 id="section">新特性</h3>

<h4 id="dialog-">原生的 dialog 元素</h4>

<p>在 HTML 5.2 的所有改动中，最让我激动的就是关于 dialog 元素这个原生对话框的介绍。在 web 中，对话框比比皆是，但是它们的实现方式都各有不同。对话框很难实现可访问性，这导致大多数的对话框对那些不方便以视觉方式访问网页的用户来说都是不可用的。</p>

<p>新的 <dialog> 元素旨在改变这种状况，它提供了一种简单的方式来实现模态对话框。</dialog></p>

<p>由一个 <dialog> 元素创建对话框：</dialog></p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">dialog</span><span class="o">&gt;</span>  
  <span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">Dialog</span> <span class="nx">Title</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Dialog</span> <span class="nx">content</span> <span class="nx">and</span> <span class="nx">other</span> <span class="nx">stuff</span> <span class="nx">will</span> <span class="nx">go</span> <span class="nx">here</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/dialog&gt;  </span></code></pre></figure>

<p>默认情况下，对话框会在视图中（以及 DOM 访问中）隐藏，只有设置 open 属性后，对话框才会显示。</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">dialog</span> <span class="nx">open</span><span class="o">&gt;</span>  </code></pre></figure>

<p>open 属性可以通过调用 show() 与 close() 方法开启或关闭，任何 HTMLDialogElement 都可以调用这两个方法。</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">button</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"open"</span><span class="o">&gt;</span><span class="nx">Open</span> <span class="nx">Dialog</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">button</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"close"</span><span class="o">&gt;</span><span class="nx">Close</span> <span class="nx">Dialog</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">dialog</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"dialog"</span><span class="o">&gt;</span>  
  <span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">Dialog</span> <span class="nx">Title</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Dialog</span> <span class="nx">content</span> <span class="nx">and</span> <span class="nx">other</span> <span class="nx">stuff</span> <span class="nx">will</span> <span class="nx">go</span> <span class="nx">here</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/dialog</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>  
<span class="kr">const</span> <span class="nx">dialog</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"dialog"</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"open"</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>  
  <span class="nx">dialog</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
<span class="p">});</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"close"</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>  
  <span class="nx">dialog</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">});</span>
<span class="o">&lt;</span><span class="sr">/script&gt;  </span></code></pre></figure>

<p>caniuse.com 关于 dialog 特性已兼容的主流浏览器</p>

<table>
  <tbody>
    <tr>
      <td>Chrome</td>
      <td>Opera</td>
      <td>Android Browser</td>
      <td>Chrome for Android</td>
    </tr>
    <tr>
      <td>63,64</td>
      <td>48,49</td>
      <td>62</td>
      <td>62</td>
    </tr>
  </tbody>
</table>

<h4 id="iframe--payment-request-api-api">在 iFrame 中使用 Payment Request API（支付请求 API）</h4>

<p>Payment Request API 是支付结算表单的原生替代方案。它将支付信息置于浏览器处理，用来代替之前各个网站各不相同的结算表单，旨在为用户提供一种标准、一致的支付方式。</p>

<p>在 HTML 5.2 之前，这种支付请求无法在文档嵌入的 iframe 中使用，导致第三方嵌入式支付解决方案（如 Stripe, Paystack）基本不可能使用这个 API，因为它们通常是在 iframe 中处理支付接口。</p>

<p>为此，HTML 5.2 引入了用于 iframe 的 allowpaymentrequest 属性，允许用户在宿主网页中访问 iframe 的 Payment Request API。</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">iframe</span> <span class="nx">allowpaymentrequest</span><span class="o">&gt;</span>  </code></pre></figure>

<h4 id="section-1">苹果的图标尺寸</h4>

<p>如要定义网页图标，我们可以在文档的 head 中使用 <link rel="icon" /> 元素。如果要定义不同尺寸的图标，我们可以使用 sizes 属性。</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">"icon"</span> <span class="nx">sizes</span><span class="o">=</span><span class="s2">"16x16"</span> <span class="nx">href</span><span class="o">=</span><span class="s2">"path/to/icon16.png"</span><span class="o">&gt;</span>  
<span class="o">&lt;</span><span class="nx">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">"icon"</span> <span class="nx">sizes</span><span class="o">=</span><span class="s2">"32x32"</span> <span class="nx">href</span><span class="o">=</span><span class="s2">"path/to/icon32.png"</span><span class="o">&gt;</span>  </code></pre></figure>

<p>这个属性虽然纯粹是个建议，但如果提供了多种尺寸的图标，可以让用户代理（UA）决定使用哪种尺寸的图标。在大多数设备有着不同的“最佳”图标尺寸时尤为重要。</p>

<p>在 HTML 5.2 之前，sizes 属性仅能用于 rel 为 icon 的 link 元素中。然而，苹果的 iOS 设备不支持 sizes 属性。为了解决这个问题，苹果自己引入了一个他们设备专用的 rel appple-touch-icon 用于定义他们设备上使用的图标。</p>

<p>在 HTML 5.2 中，规范定义了 sizes 属性不再仅仅可用于 rel 为 icon 的元素，也能用于 rel 为 apple-touch-icon 的元素。这样可以让我们为不同的苹果设备提供不同尺寸的图标。不过直到现在为止，据我所知苹果的设备还是不支持 sizes属性。在将来苹果最终支持此规范时，它将派上用场。</p>

<h3 id="section-2">新的有效实践</h3>

<p>除了新特性之外，HTML 5.2 还将一些之前无效的 HTML 写法认定为有效。</p>

<h4 id="main-">多个 main 元素</h4>

<p>main元素代表网页的主要内容。虽然不同网页的重复内容可以放在 header、section 或者其它元素中，但 main 元素是为页面上的特定内容保留的。因此在 HTML 5.2 之前，main 元素在 DOM 中必须唯一才能令页面有效。</p>

<p>随着单页面应用（SPA）的普及，要坚持这个原则变得困难起来。在同一个网页的 DOM 中可能会有多个 main 元素，但在任意时刻只能给用户展示其中的一个。</p>

<p>使用 HTML 5.2，我们只要保证同一时刻只有一个 main 元素可见，就能在我们的标签中使用多个 main 元素。与此同时其它的 main 元素必须使用 hidden 属性进行隐藏。</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">main</span><span class="o">&gt;</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/main</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">main</span> <span class="nx">hidden</span><span class="o">&gt;</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/main</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">main</span> <span class="nx">hidden</span><span class="o">&gt;</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/main&gt;</span></code></pre></figure>

<p>我们都知道，通过 CSS 来隐藏元素的方法有很多，但多余的 main 元素必须使用 hidden 属性进行隐藏。任何其它隐藏此元素的方法（如 display: none; 和 visibility: hidden;）都将无效。</p>

<h4 id="body-">在 body 中写样式</h4>

<p>一般来说，使用style元素定义的内联 CSS 样式会放置在 HTML 文档的 head 中。随着组件化开发的流行，开发者已经发现编写 style 并放置在与其相关的 html 中更加有益。</p>

<p>在 HTML 5.2 中，可以在 HTML 文档 body 内的任何地方定义内联 style 样式块。这意味着样式定义可以离它们被使用的地方更近。</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>  
    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">I</span><span class="err">’</span><span class="nx">m</span> <span class="nx">cornflowerblue</span><span class="o">!&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">style</span><span class="o">&gt;</span>
        <span class="nx">p</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="nx">cornflowerblue</span><span class="p">;</span> <span class="p">}</span>
    <span class="o">&lt;</span><span class="sr">/style</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">I</span><span class="err">’</span><span class="nx">m</span> <span class="nx">cornflowerblue</span><span class="o">!&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/body&gt;  </span></code></pre></figure>

<p>样式元素最好用于文档的 head 中。在文档的 body 中使用样式可能导致重复定义样式，触发重布局、导致重绘，因此需要小心使用。</p>

<p>此外还应该注意的是如示例所示，样式不存在作用域。后来在 HTML 文档中定义的内联样式仍然会应用于之前定义的元素，所以它可能会触发重绘。</p>

<h4 id="legend-">legend 中的标题元素</h4>

<p>在表单中，legend 元素表示 fieldset 表单域中的标题。在 HTML 5.2 前，legend 元素的内容必须为纯文本。而现在，它可以包含标题元素（ h1 等）了。</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">fieldset</span><span class="o">&gt;</span>  
    <span class="o">&lt;</span><span class="nx">legend</span><span class="o">&gt;&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">Basic</span> <span class="nx">Information</span><span class="o">&lt;</span><span class="sr">/h2&gt;&lt;/</span><span class="nx">legend</span><span class="o">&gt;</span>
    <span class="c">&lt;!--</span> <span class="nx">Form</span> <span class="nx">fields</span> <span class="k">for</span> <span class="nx">basic</span> <span class="nx">information</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="sr">/fieldset&gt; </span><span class="err"> 
</span><span class="o">&lt;</span><span class="nx">fieldset</span><span class="o">&gt;</span>  
    <span class="o">&lt;</span><span class="nx">legend</span><span class="o">&gt;&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">Contact</span> <span class="nx">Information</span><span class="o">&lt;</span><span class="sr">/h2&gt;&lt;/</span><span class="nx">legend</span><span class="o">&gt;</span>
    <span class="c">&lt;!--</span> <span class="nx">Form</span> <span class="nx">fields</span> <span class="k">for</span> <span class="nx">contact</span> <span class="nx">information</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="sr">/fieldset&gt;  </span></code></pre></figure>

<p>当我们想用 fieldset 对表单中不同部分进行分组时，这个特性非常有用。在这种情况下使用标题元素是有意义的，因为这能让那些依赖于文档大纲的用户可以轻松导航至表单的对应部分。</p>

<h3 id="section-3">移除的特性</h3>

<ul>
	<li>keygen：曾经用于帮助表单生成公钥</li>
	<li>menu 与 menuitem：曾经用于创建导航与内容菜单</li>
</ul>

<h3 id="section-4">新的无效实践</h3>

<h4 id="p">在p元素中不再能包含行内、浮动、块类型的子元素</h4>

<p>在 HTML 5.2 中，p元素中唯一合法的子元素只能是文字内容。这也意味着以下类型的元素不再能嵌套于段落标签p内：</p>

<ul>
	<li>行内块（Inline blocks）</li>
	<li>行内表格（Inline tables）</li>
	<li>浮动块与固定位置块</li>
</ul>

<h4 id="strict-doctypes">不再支持严格文档类型（Strict Doctypes）</h4>

<p>最后，我们终于可以和这些文档类型说再见了！</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">HTML</span> <span class="nx">PUBLIC</span> <span class="s2">"-//W3C//DTD HTML 4.01//EN"</span> <span class="s2">"http://www.w3.org/TR/html4/strict.dtd"</span><span class="o">&gt;</span>  
<span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span> <span class="nx">PUBLIC</span> <span class="s2">"-//W3C//DTD XHTML 1.0 Strict//EN"</span> <span class="s2">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"</span><span class="o">&gt;</span>  </code></pre></figure>


  </div>

</article>
<!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="/front/article/2018/01/28/HTML5.2" data-title="HTML 5.2 有哪些新内容?" data-url="/front/article/2018/01/28/HTML5.2.html"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"lq1228"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
<!-- 多说公共JS代码 end -->

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="friend-link">
        <div class="friend-title">友情链接</div>
        
            <a href="https://bystep15.github.io/">
		宝宝树前端团队博客
	    </a>
	
            <a href="http://testudy.github.io/">
		胡继伟
	    </a>
	
            <a href="https://yj1438.github.io/">
		尹杰
	    </a>
	
            <a href="https://github.com/cnsnake11/blog">
		曹楠
	    </a>
	
            <a href="http://ushtml.com/">
		武明礼
	    </a>
	
            <a href="http://kouyun.me/">
		寇云
	    </a>
	
            <a href="http://brooch.me/">
		郑星宬
	    </a>
	
            <a href="http://zhanyouwei.com/">
		占友伟
	    </a>
	
            <a href="https://lilywei739.github.io">
		魏莉
	    </a>
	
            <a href="https://wangjiaoxia.github.io/">
		王娇霞
	    </a>
	
            <a href="http://www.apptranz.com/wk/">
		梁恺韬
	    </a>
	
    </div>

    <div class="copyright">
      <p>lq1228.github.io</p>
    </div>

  </div>

</footer>


  </body>

</html>
